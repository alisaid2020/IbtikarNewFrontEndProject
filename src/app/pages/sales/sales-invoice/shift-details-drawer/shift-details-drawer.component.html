<div
  class="offcanvs-header d-flex justify-content-between align-items-center flex-wrap"
>
  <h3 class="offcanvs-title fw-bolder text-dark">
    {{ "shiftData" | translate }}
  </h3>
  <button
    type="button"
    class="btn-close"
    aria-label="Close"
    (click)="activeDrawer.close()"
  ></button>
</div>
<div class="offcanvs-body mb-5">
  <div class="h-100 overflow-auto">
    <form [formGroup]="shiftDataForm">
      <ul
        ngbNav
        #nav="ngbNav"
        class="nav-tabs border-0 justify-content-center mb-3"
      >
        <li ngbNavItem>
          <a
            ngbNavLink
            class="nav-link btn btn-sm btn-color-muted btn-active-primary fw-bold px-4 me-1"
            >{{ "shiftDetails" | translate }}</a
          >
          <ng-template ngbNavContent>
            <div class="row m-0 g-5 my-5">
              @if ( helpers.getItemFromLocalStorage(userRole) === 'Admin') {
              <div class="col-md-6">
                <app-ebtikar-input
                  class="disabled-form"
                  [readonly]="true"
                  [label]="'totalTreasuryIn'"
                  [placeholder]="'totalTreasuryIn'"
                  [control]="shiftDataForm.get('TotaltreasuryIn')!"
                ></app-ebtikar-input>
              </div>
              <div class="col-md-6">
                <app-ebtikar-input
                  class="disabled-form"
                  [readonly]="true"
                  [label]="'totalTreasuryOut'"
                  [placeholder]="'totalTreasuryOut'"
                  [control]="shiftDataForm.get('TotaltreasuryOut')!"
                ></app-ebtikar-input>
              </div>
              <div class="col-md-6">
                <app-ebtikar-input
                  class="disabled-form"
                  [readonly]="true"
                  [label]="'SalesInvoiceReturnNo'"
                  [placeholder]="'SalesInvoiceReturnNo'"
                  [control]="shiftDataForm.get('SalesInvoiceReturnNo')!"
                ></app-ebtikar-input>
              </div>
              <div class="col-md-6">
                <app-ebtikar-input
                  class="disabled-form"
                  [readonly]="true"
                  [label]="'SalesInvoiceReturn'"
                  [placeholder]="'SalesInvoiceReturn'"
                  [control]="shiftDataForm.get('SalesInvoiceReturn')!"
                ></app-ebtikar-input>
              </div>
              <div class="col-md-6">
                <app-ebtikar-input
                  class="disabled-form"
                  [readonly]="true"
                  [label]="'InvoicesNo'"
                  [placeholder]="'InvoicesNo'"
                  [control]="shiftDataForm.get('InvoicesNo')!"
                ></app-ebtikar-input>
              </div>
              <div class="col-md-6">
                <app-ebtikar-input
                  class="disabled-form"
                  [readonly]="true"
                  [label]="'startCash'"
                  [placeholder]="'startCash'"
                  [control]="shiftDataForm.get('StartCash')!"
                ></app-ebtikar-input>
              </div>
              <div class="col-md-6">
                <app-ebtikar-input
                  class="disabled-form"
                  [readonly]="true"
                  [label]="'durationCash'"
                  [placeholder]="'durationCash'"
                  [control]="shiftDataForm.get('DurationCash')!"
                ></app-ebtikar-input>
              </div>
              <div class="col-md-6">
                <app-ebtikar-input
                  class="disabled-form"
                  [readonly]="true"
                  [label]="'totalCash'"
                  [placeholder]="'totalCash'"
                  [control]="shiftDataForm.get('TotalCash')!"
                ></app-ebtikar-input>
              </div>
              <div class="col-md-6">
                <app-ebtikar-input
                  class="disabled-form"
                  [readonly]="true"
                  [label]="'visaAmount'"
                  [placeholder]="'visaAmount'"
                  [control]="shiftDataForm.get('VisaAmount')!"
                ></app-ebtikar-input>
              </div>
              <div class="col-md-6">
                <app-ebtikar-input
                  class="disabled-form"
                  [readonly]="true"
                  [label]="'bankTransferAmount'"
                  [placeholder]="'bankTransferAmount'"
                  [control]="shiftDataForm.get('BankTransferAmount')!"
                ></app-ebtikar-input>
              </div>
              <div class="col-md-6">
                <app-ebtikar-input
                  class="disabled-form"
                  [readonly]="true"
                  [label]="'totalShift'"
                  [placeholder]="'totalShift'"
                  [control]="shiftDataForm.get('TotalShift')!"
                ></app-ebtikar-input>
              </div>
              <div class="col-md-6">
                <app-ebtikar-input
                  class="disabled-form"
                  [readonly]="true"
                  [label]="'deficitAmount'"
                  [placeholder]="'deficitAmount'"
                  [control]="shiftDataForm.get('DeficitAmount')!"
                ></app-ebtikar-input>
              </div>
              }
              <div class="col-md-6">
                <div class="d-flex w-100 h-100 align-items-center gap-2">
                  <input
                    class="form-check-input cursor-pointer"
                    type="checkbox"
                    id="checkbox"
                    (change)="getChangedTreasure($event)"
                  />
                  <label
                    class="form-check-label text-gray-800 cursor-pointer fw-bold"
                    for="checkbox"
                  >
                    {{ "changeTreasury" | translate }}
                  </label>
                </div>
              </div>
              <div class="col-md-6" *ngIf="isTreasureChanged">
                <app-ebtikar-select
                  [hasMultipleLabels]="true"
                  [items]="treasuries"
                  [bindValue]="'Id'"
                  [placeholder]="'safe'"
                  [label]="'safe'"
                  [control]="shiftDataForm.get('changeTreasuryId')!"
                >
                </app-ebtikar-select>
              </div>
            </div>
          </ng-template>
        </li>

        <li ngbNavItem>
          <a
            ngbNavLink
            class="nav-link btn btn-sm btn-color-muted btn-active-primary fw-bold px-4 me-1"
            >{{ "expenses_collections" | translate }}</a
          >
          <ng-template ngbNavContent>
            <div class="row m-0 g-5 mt-5">
              <div class="col-md-6">
                <app-ebtikar-input
                  class="disabled-form"
                  [readonly]="true"
                  [label]="'totalTreasuryIn'"
                  [placeholder]="'totalTreasuryIn'"
                  [control]="shiftDataForm.get('treasuryIn')!"
                ></app-ebtikar-input>
              </div>
              <div class="col-md-6">
                <app-ebtikar-input
                  class="disabled-form"
                  [readonly]="true"
                  [label]="'totalTreasuryOut'"
                  [placeholder]="'totalTreasuryOut'"
                  [control]="shiftDataForm.get('treasuryOut')!"
                ></app-ebtikar-input>
              </div>
            </div>
          </ng-template>
        </li>
      </ul>
      <div [ngbNavOutlet]="nav"></div>
    </form>
  </div>
</div>
<div class="offcanvs-footer p-5 pt-0 text-center">
  <div class="d-flex justify-content-end gap-2 gap-lg-3">
    <button class="btn btn-light" (click)="activeDrawer.close()">
      {{ "returnToInvoice" | translate }}
    </button>
    <app-submit-button
      [buttonText]="'closeShift'"
      (btnClick)="closeShift()"
    ></app-submit-button>
  </div>
</div>
